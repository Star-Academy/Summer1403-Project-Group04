<nz-form-item>
  <nz-form-control [nzErrorTip]="errorTip" [nzValidateStatus]="control">
    <nz-input-group
      [nzPrefixIcon]="prefixIcon"
      [class.custom-input-error]="control.invalid && (control.dirty || control.touched)"
    >
      @if (type === 'password') {
      <input
        [type]="passwordVisible ? 'text' : 'password'"
        nz-input
        [placeholder]="placeholder"
        [ngModel]="value"
        (ngModelChange)="onChange($event)"
        (blur)="onTouched()"
      />
      <span
        nz-icon
        [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
        class="toggle-password-visibility"
        (click)="passwordVisible = !passwordVisible"
        (keydown.enter)="passwordVisible = !passwordVisible"
        tabindex="0"
        role="button"
        aria-label="Toggle password visibility"
        style="cursor: pointer; position: absolute; right: 10px; top: 50%; transform: translateY(-50%)"
      ></span>
      } @else if (type === 'select') {
      <nz-select
        [nzPlaceHolder]="placeholder"
        nzMode="tags"
        [(ngModel)]="listOfTagOptions"
        (ngModelChange)="onTagChange($event)"
      >
        <nz-option *ngFor="let option of options" [nzLabel]="option.label" [nzValue]="option.value"></nz-option>
      </nz-select>
      <i nz-icon nzType="down" class="select-arrow-icon"></i>
      } @else {
      <input
        [type]="type"
        nz-input
        [placeholder]="placeholder"
        [ngModel]="value"
        (ngModelChange)="onChange($event)"
        (blur)="onTouched()"
      />
      }
    </nz-input-group>
  </nz-form-control>
</nz-form-item>
