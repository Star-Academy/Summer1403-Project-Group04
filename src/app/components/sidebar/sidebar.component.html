<nz-sider
  class="menu-sidebar"
  nzCollapsible
  nzWidth="256px"
  nzBreakpoint="md"
  [(nzCollapsed)]="isCollapsed"
  [nzTrigger]="null"
  nzTheme="light"
>
  <nz-layout class="sidebar-logo" nzTheme="light">
    <div class="sidebar-logo__title-container" nzTheme="light">
      <span
        sidebar-logo__title-container__logo
        nz-icon
        nzType="node-index"
        nzTheme="outline"
        class="sidebar-logo__title-container__logo"
      ></span>
      <h1 class="sidebar-logo__title-container__title">Negar</h1>
    </div>
    <nz-content class="sidebar-logo__profile-container" nzTheme="light">
      <div
        class="sidebar-logo__profile-container__image"
        routerLink="/dashboard/profile"
      >
        <img
          class="sidebar-logo__profile-container__image__img"
          src="/profile/profile.svg"
          alt="avatar"
        />
      </div>
      <span class="sidebar-logo__profile-container__name">
        {{ userData.firstName[0]?.toUpperCase() }}.{{
          userData.lastName[0]?.toUpperCase()
        }}{{ userData.lastName.slice(1) }}
      </span>
    </nz-content>
  </nz-layout>
  <ul
    class="menu-sidebar__list"
    nz-menu
    nzTheme="light"
    nzMode="inline"
    [nzInlineCollapsed]="isCollapsed"
  >
    <li
      class="menu-sidebar__list__item"
      nz-menu-item
      nzTitle="Dashboard"
      nzIcon="dashboard"
      routerLink="/dashboard"
      routerLinkActive="ant-menu-item-selected"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <span nz-icon nzType="dashboard" class="menu-sidebar__icon"></span>
      <span class="menu-sidebar__icon-message">Dashboard</span>
    </li>
    @if (userPermissions.indexOf('/api/Admin') !== -1) {
    <li
      class="menu-sidebar__list__item"
      nz-menu-item
      nzOpen
      nzTitle="Manage Users"
      nzIcon="team"
      routerLink="/dashboard/manage-users"
      routerLinkActive="ant-menu-item-selected"
      [routerLinkActiveOptions]="{ exact: true }"
    >
      <span nz-icon nzType="team" class="menu-sidebar__icon"></span>
      <span class="menu-sidebar__icon-message">Manage Users</span>
    </li>

    <li
      class="menu-sidebar__list__item"
      nz-menu-item
      nzOpen
      nzTitle="Graph"
      nzIcon="team"
      routerLink="/graph"
      routerLinkActive="ant-menu-item-selected"
      [routerLinkActiveOptions]="{ exact: true }"
    >
    <span nz-icon nzType="dot-chart" nzTheme="outline"></span>
      <span class="menu-sidebar__icon-message">Graph</span>
    </li>
    }
  </ul>
  <div class="menu-sidebar__toggle">
    <span
      nz-icon
      [nzType]="isCollapsed ? 'right' : 'left'"
      nzTheme="outline"
      (click)="onToggleSidebar()"
      (keyup.enter)="onToggleSidebar()"
      (keyup.space)="onToggleSidebar()"
      tabindex="0"
      role="button"
      aria-label="Toggle sidebar"
    ></span>
  </div>
</nz-sider>
